"use strict";(self.webpackChunkBattleship=self.webpackChunkBattleship||[]).push([[57],{249:(e,n,t)=>{t.d(n,{A:()=>g});var r=t(601),o=t.n(r),a=t(314),i=t.n(a),c=t(417),s=t.n(c),l=new URL(t(698),t.b),d=new URL(t(602),t.b),p=new URL(t(263),t.b),u=i()(o()),h=s()(l),m=s()(d),f=s()(p);u.push([e.id,`/* FONT FACES */\n@font-face {\n  font-family: LF-Normal;\n  src: url(${h});\n}\n\n@font-face {\n  font-family: LF-Bold;\n  src: url(${m});\n}\n\n@font-face {\n  font-family: Black-Ops;\n  src: url(${f});\n}\n\n/* ROOT */\n:root {\n  --normal: "LF-Normal", sans-serif;\n  --bold: "LF-Bold", sans-serif;\n  --header-font: "Black-Ops", sans-serif;\n  --bg: #e8eddf;\n  --green: #b7cbbf;\n  --red: #c46233;\n}\n\n/* GLOBAL STYLES */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n/* PARENT-CONTAINER */\n.container {\n  display: grid;\n  grid-template-rows: 250px 1fr 50px;\n  height: 100%;\n}\n\n/* Header */\n.header {\n  font-family: var(--header-font);\n  font-size: 140px;\n  height: 100%;\n  width: 100%;\n  display: grid;\n  place-items: center;\n  color: #5e503f;\n  background-color: var(--bg);\n}\n\n/* display */\n.display {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  font-family: var(--bold);\n  color: #333333;\n  background-color: var(--bg);\n}\n\n.display div {\n  display: grid;\n  grid-template-rows: auto 1fr;\n  place-items: center;\n}\n\n/* titles */\n.player-title,\n.computer-title {\n  display: grid;\n  grid-template-columns: auto auto;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  font-size: 30px;\n  color: #220901;\n}\n\n.display div img {\n  width: 50px;\n}\n\n/* Board-styles */\n.c-board,\n.p-board {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  gap: 5px;\n  width: fit-content;\n  height: fit-content;\n  background-color: #ccc5b9;\n  border: 5px solid #ccc5b9;\n  margin-top: -100px;\n}\n\n.e {\n  width: 60px;\n  height: 60px;\n  background-color: #fffcf2;\n}\n\n/* INPUT DIALOG */\n.task-input {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 800px;\n  height: 970px;\n  font-family: var(--bold);\n  border: 2px solid grey;\n  border-radius: 10px;\n  background-color: #faf9f9;\n  display: grid;\n  grid-template-rows: 150px 90px 1fr;\n  place-items: center;\n}\n\n.task-input::backdrop {\n  backdrop-filter: blur(3px);\n}\n\n.task-input[open] {\n  -webkit-animation: show 0.3s ease normal;\n}\n@-webkit-keyframes show {\n  from {\n    transform: translate(-50%, -100%);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\ndialog p {\n  font-size: 66px;\n  color: #5e503f;\n  font-family: var(--header-font);\n  place-self: center;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  gap: 5px;\n  width: fit-content;\n  height: fit-content;\n  background-color: #ccc5b9;\n  border: 5px solid #ccc5b9;\n}\n\ndialog button {\n  all: unset;\n  background-color: #9a8c98;\n  color: white;\n  width: 200px;\n  height: 70px;\n  font-size: 28px;\n  cursor: pointer;\n  text-align: center;\n  border-radius: 5%;\n  margin-bottom: -16px;\n}\n\n#button-div {\n  display: flex;\n  gap: 32px;\n}\n\n.ship-location {\n  background-color: #ccc5b9;\n}\n\n/* BOARD */\n.s {\n  background-color: #ccc5b9;\n  width: 60px;\n  height: 60px;\n}\n\n.h {\n  background-color: #c46233;\n  width: 60px;\n  height: 60px;\n}\n\n.m {\n  background-color: #87986a;\n  width: 60px;\n  height: 60px;\n}\n\n/* DECLARE DIALOG */\n.declare-res {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 720px;\n  height: 270px;\n  font-family: var(--bold);\n  border: 2px solid grey;\n  border-radius: 10px;\n  background-color: #faf9f9;\n  display: grid;\n  grid-template-rows: auto 1fr;\n  place-items: center;\n}\n\n.declare-res::backdrop {\n  backdrop-filter: blur(3px);\n}\n\n.declare-res[open] {\n  -webkit-animation: show 0.3s ease normal;\n}\n@-webkit-keyframes show {\n  from {\n    transform: translate(-50%, -100%);\n  }\n  to {\n    transform: translate(-50%, -50%);\n  }\n}\n\n.declare-res p {\n  font-size: 72px;\n  padding-top: 48px;\n  padding-bottom: 18px;\n}\n\n.declare-res button {\n  align-self: start;\n}\n\n/* FOOTER */\n.footer {\n  font-family: var(--normal);\n  font-size: 24px;\n  height: 100%;\n  width: 100%;\n  background-color: #e0decc;\n  color: #333333;\n  display: grid;\n  place-items: center;\n  padding-top: 16px;\n  padding-bottom: 16px;\n}\n\na {\n  all: unset;\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: underline;\n  font-family: var(--bold);\n  cursor: pointer;\n}\n\n/* FOOTER */\n.footer {\n  font-family: var(--normal);\n  font-size: 24px;\n  height: 100%;\n  width: 100%;\n  background-color: #e0decc;\n  color: #333333;\n  display: grid;\n  place-items: center;\n}\n\na {\n  all: unset;\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: underline;\n  font-family: var(--bold);\n  cursor: pointer;\n}\n`,""]);const g=u},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],d=a[l]||0,p="".concat(l," ").concat(d);a[l]=d+1;var u=t(p),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)n[u].references++,n[u].updater(h);else{var m=o(h,r);r.byIndex=c,n.splice(c,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function o(e,n){var t=n.domAPI(n);t.update(e);return function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=t(a[i]);n[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var d=t(a[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=s}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},865:(e,n,t)=>{var r=t(72),o=t.n(r),a=t(825),i=t.n(a),c=t(659),s=t.n(c),l=t(56),d=t.n(l),p=t(540),u=t.n(p),h=t(113),m=t.n(h),f=t(249),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u();o()(f.A,g);f.A&&f.A.locals&&f.A.locals;const b=t.p+"be7394259fbb4f98e468.svg",v=document.createElement("link");v.rel="icon",v.href=`${b}`,document.head.appendChild(v);const y=t.p+"9f6edbddf3614f9c5aa3.svg",x=t.p+"91bd5307b9df66d48b4b.svg",E=document.querySelector(".container"),w=document.createElement("div");w.className="header",w.innerHTML="<p>BATTLESHIP</p>",E.appendChild(w);const S=document.createElement("div");S.className="display",E.appendChild(S);const k=document.createElement("div");k.className="player-div ",S.appendChild(k);const B=document.createElement("div");B.className="player-title",B.innerHTML=`<img src=${y}></img><p>PLAYER</p>`,k.appendChild(B);const C=document.createElement("div");C.className="p-board";for(let e=0;e<10;e++)for(let e=0;e<10;e++){const e=document.createElement("div");e.className="e",C.appendChild(e)}k.appendChild(C);const A=document.createElement("div");A.className="computer-div",S.appendChild(A);const L=document.createElement("div");L.className="computer-title",L.innerHTML=`<img src=${x}></img><p>COMPUTER</p>`,A.appendChild(L);const T=document.createElement("div");T.className="c-board";for(let e=0;e<10;e++)for(let e=0;e<10;e++){const e=document.createElement("div");e.className="e",T.appendChild(e)}A.appendChild(T),document.body.appendChild(E);const M=document.createElement("div");M.classList.add("footer"),M.innerHTML='<p>© Jay Singh <a href="https://github.com/mathdebate09/battleship" target="_blank">(mathdebate09)</a></p>',E.appendChild(M);const N=class{constructor(e){this.length=e,this.numHits=0,this.sunk=!1,this.alignment=null,this.coordinates=[]}hit(){this.sunk||(this.numHits++,this.isSunk())}isSunk(){this.numHits===this.length&&(this.sunk=!0)}setCoordinates(e,n){this.alignment=n,this.coordinates=[];for(let t=0;t<this.length;t++)"horizontal"===n?this.coordinates.push([e[0],e[1]+t]):"vertical"===n&&this.coordinates.push([e[0]+t,e[1]])}};const O=class{constructor(){this.gameBoard=new Array(10);for(let e=0;e<10;e++)this.gameBoard[e]=new Array(10).fill("e");this.boardPieces=[new N(4),new N(3),new N(3),new N(2),new N(2),new N(2),new N(1),new N(1),new N(1),new N(1)]}isAdjacentOccupied(e,n){for(let t=Math.max(0,e-1);t<=Math.min(9,e+1);t++)for(let e=Math.max(0,n-1);e<=Math.min(9,n+1);e++)if("s"===this.gameBoard[t][e])return!0;return!1}populateShips(e){e.coordinates.forEach((([e,n])=>{this.gameBoard[e][n]="s"}))}getShip(e,n){for(let t=0;t<this.boardPieces.length;t++)for(let r=0;r<this.boardPieces[t].coordinates.length;r++)if(this.boardPieces[t].coordinates[r][0]===e&&this.boardPieces[t].coordinates[r][1]===n)return this.boardPieces[t];return null}receiveAttack(e,n){if(e>=0&&e<this.gameBoard.length&&n>=0&&n<this.gameBoard[e].length){if("e"===this.gameBoard[e][n])this.gameBoard[e][n]="m";else if("s"===this.gameBoard[e][n]){const t=this.getShip(e,n);t?(t.hit(),this.gameBoard[e][n]="h"):console.error(`No ship found at coordinates (${e}, ${n})`)}}else console.error(`Invalid coordinates: (${e}, ${n})`)}areAllShipsSunk(){for(let e=0;e<this.boardPieces.length;e++)if(!this.boardPieces[e].sunk)return!1;return!0}populateShipsRandomly(){this.boardPieces.forEach((e=>{let n,t,r;do{n=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),r=Math.random()<.5?"horizontal":"vertical"}while(!this.canPlaceShip(e,n,t,r));this.placeShip(e,n,t,r)}))}canPlaceShip(e,n,t,r){if("horizontal"===r){if(t+e.length>10)return!1;for(let r=0;r<e.length;r++){if(!(t+r<10))return!1;if("s"===this.gameBoard[n][t+r]||this.isAdjacentOccupied(n,t+r))return!1}}else{if(n+e.length>10)return!1;for(let r=0;r<e.length;r++){if(!(n+r<10))return!1;if("s"===this.gameBoard[n+r][t]||this.isAdjacentOccupied(n+r,t))return!1}}return!0}placeShip(e,n,t,r){for(let o=0;o<e.length;o++)"horizontal"===r?(e.coordinates.push([n,t+o]),this.gameBoard[n][t+o]="s"):(e.coordinates.push([n+o,t]),this.gameBoard[n+o][t]="s")}},P=function(){let e=new Set;return{get:function(){let n,t;do{n=Math.floor(10*Math.random()),t=Math.floor(10*Math.random())}while(e.has(`${n},${t}`));return e.add(`${n},${t}`),[n,t]}}}(),R=function(){let e="vertical",n=0,t=null,r=[];function o(){const o=document.querySelectorAll(".board > div"),i=Array.from(o),c=[];for(;i.length;)c.push(i.splice(0,10));n=0,t=null,r=[],c.forEach(((o,i)=>{o.forEach(((o,s)=>{o.addEventListener("mouseover",(()=>{if(t!==o&&(t=o,r.forEach((e=>e.style.backgroundColor="")),r=[],n<q.userBoard.boardPieces.length)){const t=q.userBoard.boardPieces[n];if(t.alignment=e,"vertical"===t.alignment&&i+t.length<=10||"horizontal"===t.alignment&&s+t.length<=10)for(let e=0;e<t.length;e++){let n;n="horizontal"===t.alignment?c[i][s+e]:c[i+e][s],n&&(n.style.backgroundColor="#CCC5B9",r.push(n))}}})),o.addEventListener("click",(()=>{if(n<q.userBoard.boardPieces.length&&!q.userBoard.isAdjacentOccupied(i,s)){const t=q.userBoard.boardPieces[n];if(t.alignment=e,"vertical"===t.alignment&&i+t.length<=10||"horizontal"===t.alignment&&s+t.length<=10&&!q.userBoard.isAdjacentOccupied(i,s)){q.userBoard.placeShip(t,i,s,t.alignment),n++;for(let e=0;e<t.length;e++){let n;n="horizontal"===t.alignment?c[i][s+e]:c[i+e][s],n&&n.classList.add("ship-location")}}}if(n===q.userBoard.boardPieces.length){const e=document.querySelector("dialog");e&&(e.style.display="none"),q.computerBoard.populateShipsRandomly(),a()}}))}))}))}function a(){const e=document.querySelectorAll(".p-board > div"),n=Array.from(e),t=[];for(;n.length;)t.push(n.splice(0,10));t.forEach(((e,n)=>{e.forEach(((e,t)=>{e.className=q.userBoard.gameBoard[n][t]}))}));const r=document.querySelectorAll(".c-board > div"),o=Array.from(r),a=[];for(;o.length;)a.push(o.splice(0,10));a.forEach(((e,n)=>{e.forEach(((e,n)=>{e.className="e"}))}))}let i=!0;function c(e,n,t){q.computerBoard.receiveAttack(e,n);let r=q.computerBoard.gameBoard[e][n];t.className="",t.classList.add(r),q.computerBoard.areAllShipsSunk()?(l("player"),document.querySelector(".player-div").style.filter="none",document.querySelector(".computer-div").style.filter="none"):("m"===r&&(i=!1,document.querySelector(".player-div").style.filter="none",document.querySelector(".computer-div").style.filter="blur(2px)"),setTimeout((()=>{document.dispatchEvent(new Event("computerTurn"))}),1e3))}function s(){const e=document.querySelectorAll(".p-board > div"),n=Array.from(e),t=[];for(;n.length;)t.push(n.splice(0,10));const[r,o]=P.get(),a=t[r][o];q.userBoard.receiveAttack(r,o);let c=q.userBoard.gameBoard[r][o];a.className="",a.classList.add(c),q.userBoard.areAllShipsSunk()?(l("computer"),document.querySelector(".player-div").style.filter="none",document.querySelector(".computer-div").style.filter="none"):"m"===c?(i=!0,document.querySelector(".player-div").style.filter="blur(2px)",document.querySelector(".computer-div").style.filter="none"):"h"===c&&setTimeout(s,1e3)}function l(e){const n=document.querySelector("dialog");n&&n.remove();const t=document.createElement("dialog");t.classList.add("declare-res");const r=document.createElement("p");r.textContent=e.toUpperCase()+" WINS!",t.appendChild(r);const o=document.createElement("button");o.textContent="Restart",o.addEventListener("click",(function(){t.close(),q.userBoard=new O,q.computerBoard=new O,a(),q.startGame()})),t.appendChild(o),document.body.appendChild(t),t.showModal()}return document.querySelectorAll(".c-board > div").forEach(((e,n)=>{let t=Math.floor(n/10),r=n%10;e.addEventListener("click",(function(){i&&c(t,r,e)}))})),document.addEventListener("computerTurn",(function(){i||s()})),{placeShipModal:function(){const n=document.querySelector("dialog");n&&n.remove();const t=document.createElement("dialog");t.classList.add("task-input"),t.open=!0;const r=document.createElement("p");r.textContent="LAYOUT YOUR SHIPS",t.appendChild(r);const a=document.createElement("div");a.id="button-div";const i=document.createElement("button");i.id="reset-bt",i.textContent="RESET",a.appendChild(i),i.addEventListener("click",(()=>{q.userBoard=new O;const e=document.querySelectorAll(".board > div"),n=Array.from(e),t=[];for(;n.length;)t.push(n.splice(0,10));e.forEach((e=>{e.id="",e.className="e"})),o()}));const c=document.createElement("button");c.id="rotate-bt",c.textContent="ROTATE",c.addEventListener("click",(function(){e="vertical"===e?"horizontal":"vertical"})),a.appendChild(c),t.appendChild(a);const s=document.createElement("div");s.className="board";for(let e=0;e<10;e++)for(let e=0;e<10;e++){const e=document.createElement("div");e.className="e",s.appendChild(e)}t.appendChild(s),document.body.appendChild(t)},placeShipsOnModal:o,displayShips:a,playerTakeTurn:c}}(),q={startGame:function(){R.placeShipModal(),R.placeShipsOnModal()},userBoard:new O,computerBoard:new O};q.startGame()},263:(e,n,t)=>{e.exports=t.p+"b8437be32fe8faca71ed.ttf"},602:(e,n,t)=>{e.exports=t.p+"f8a6adeeee2d88b5e4e6.ttf"},698:(e,n,t)=>{e.exports=t.p+"713a2f7a5993dd85cac9.ttf"}},e=>{var n;n=865,e(e.s=n)}]);